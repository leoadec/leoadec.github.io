<!DOCTYPE html>
<html lang="{{ page.lang }}">

<head>
  <meta charset="utf-8">
  <title>{{ site.data.about.full_name }} &ndash; {{ page.title }}</title>
  <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
</head>

<body>
<header>
  <h1>{{ site.data.about.full_name }}</h1>

<nav>
  {% if site.html_pages.size > 1 -%}
  {% for page in site.html_pages %}
  {%- assign components = page.url | split: "/" -%}
  {% unless components.size > 2 -%}
  {% unless forloop.first %} | {% endunless %}<a href="{{ page.url }}">{{ page.title | upcase }}</a>
  {%- endunless -%} {%- endfor %}
  {%- endif %}
</nav>
</header>

<script>
  let header = document.getElementsByTagName("header")[0];
  let h1 = document.getElementsByTagName("h1")[0];
  let menu = document.getElementsByTagName("nav")[0];

  originalHeaderHeight = parseFloat(window.getComputedStyle(header).height);
  headerHeightUnit = window.getComputedStyle(header).height.match(/(px|em|pt)/)[1];

  originalHeaderFontSize = parseFloat(window.getComputedStyle(h1).fontSize);
  headerFontUnit = window.getComputedStyle(h1).fontSize.match(/(px|em|pt)/)[1];

  originalMenuFontSize = parseFloat(window.getComputedStyle(menu).fontSize);
  menuFontUnit = window.getComputedStyle(menu).fontSize.match(/(px|em|pt)/)[1];

  function resizeEverything() {
    let scrollPosition = window.pageYOffset;
    let rescaleFactor = Math.max(1 - scrollPosition * 0.0005, 0.6);
    let menuRescaleFactor = Math.max(1 - scrollPosition * 0.0004, 0.7);

    header.style.height = (originalHeaderHeight * rescaleFactor) + headerHeightUnit;
    h1.style.fontSize = (originalHeaderFontSize * rescaleFactor) + headerFontUnit;
    menu.style.fontSize = (originalMenuFontSize * menuRescaleFactor) + menuFontUnit;
  }

  window.onscroll = resizeEverything;
</script>

<script>
  var style = location.search;
  if (( style.length > 0 ) && ( style.substring(1) == "plain" )) {
    document.styleSheets[0].disabled = true;
  };
</script>


<main>
{{ content }}
</main>

<script>
  const authors = document.getElementsByClassName("authors");
  const leo = "Leonardo Andreta de Castro"

  for (var i = 0; i < authors.length; i++) {
    var originalText = authors[i].innerHTML;
    authors[i].innerHTML = originalText.replace(leo, leo.bold());
  }
</script>
</body>

</html>
